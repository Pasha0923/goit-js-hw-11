{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BAZE_URL = 'https://pixabay.com/api';\nconst API_KEY = '41870399-9b44301246ceb98c07efd626a';\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  photoList: document.querySelector('.photo-list'),\n};\n\nrefs.searchForm.addEventListener('submit', handleSearch); // обробник подій на форму\nfunction handleSearch(event) {\n  // функція яка описує обробник події\n  event.preventDefault();\n  const form = event.currentTarget;\n  const query = form.elements.query.value; // дістаємо значення з форми\n\n  searchPhoto(query)\n    .then(createMarkuPhoto)\n    .catch(onFetchError)\n    .finally(() => form.reset());\n\n  searchPhoto(query).then(data => {\n    if (!data.hits.length || query === '') {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return;\n    }\n  });\n}\n\n// пишемо функцію для того щоб робити сам запит\nfunction searchPhoto(value) {\n  return fetch(\n    `${BAZE_URL}/?key=${API_KEY}&q=${value}&image_type=photo&orientation=horizontal&safesearch=true&per_page=9`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\n// function searchPhoto(value) {\n//   const urlParams = new URLSearchParams({\n//     key: API_KEY,\n//     q: value,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: true,\n//   });\n// }\nfunction onFetchError(error) {\n  console.error(error);\n}\n\nfunction createMarkuPhoto({ hits }) {\n  const markup = hits\n    .map(\n      hits => `<li class=\"gallery-item\">\n<a class=\"gallery-link\" href=\"${hits.largeImageURL}\">\n<img class=\"gallery-image\" ;\n    src=\"${hits.webformatURL}\"\n    data-source=\"${hits.largeImageURL}\"\n   alt=\"${hits.tags}\" />\n   </a>\n    <p>Likes: ${hits.likes}</p>\n   <p>Views: ${hits.views}</p>\n   <p>Comment: ${hits.comments}</p>\n   <p>Downloads: ${hits.downloads}</p>\n</li>`\n    )\n    .join('');\n\n  refs.photoList.innerHTML = markup;\n  refreshPage.refresh();\n}\n\nconst refreshPage = new SimpleLightbox('.photo-list a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["BAZE_URL","API_KEY","refs","handleSearch","event","form","query","searchPhoto","createMarkuPhoto","onFetchError","data","iziToast","value","resp","error","hits","markup","refreshPage","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAW,0BACXC,EAAU,qCAEVC,EAAO,CACX,WAAY,SAAS,cAAc,cAAc,EACjD,UAAW,SAAS,cAAc,aAAa,CACjD,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,CAAY,EACvD,SAASA,EAAaC,EAAO,CAE3BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACbE,EAAQD,EAAK,SAAS,MAAM,MAElCE,EAAYD,CAAK,EACd,KAAKE,CAAgB,EACrB,MAAMC,CAAY,EAClB,QAAQ,IAAMJ,EAAK,MAAK,CAAE,EAE7BE,EAAYD,CAAK,EAAE,KAAKI,GAAQ,CAC9B,GAAI,CAACA,EAAK,KAAK,QAAUJ,IAAU,GAAI,CACrCK,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,EACD,MACD,CACL,CAAG,CACH,CAGA,SAASJ,EAAYK,EAAO,CAC1B,OAAO,MACL,GAAGZ,UAAiBC,OAAaW,sEACrC,EAAI,KAAKC,GAAQ,CACb,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CAWA,SAASJ,EAAaK,EAAO,CAC3B,QAAQ,MAAMA,CAAK,CACrB,CAEA,SAASN,EAAiB,CAAE,KAAAO,GAAQ,CAClC,MAAMC,EAASD,EACZ,IACCA,GAAQ;AAAA,gCACkBA,EAAK;AAAA;AAAA,WAE1BA,EAAK;AAAA,mBACGA,EAAK;AAAA,UACdA,EAAK;AAAA;AAAA,gBAECA,EAAK;AAAA,eACNA,EAAK;AAAA,iBACHA,EAAK;AAAA,mBACHA,EAAK;AAAA,MAEnB,EACA,KAAK,EAAE,EAEVb,EAAK,UAAU,UAAYc,EAC3BC,EAAY,QAAO,CACrB,CAEA,MAAMA,EAAc,IAAIC,EAAe,gBAAiB,CACtD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC"}